(this["webpackJsonpburger-builder"]=this["webpackJsonpburger-builder"]||[]).push([[5],{95:function(t,e,a){},98:function(t,e,a){"use strict";a.r(e);var n=a(8),o=a(10),i=a(13),r=a(12),l=a(0),s=a.n(l),c=a(11),u=(a(95),a(35)),d=a(21),p=a.n(d),h=p.a.create({}),g=a(34),m=a(3),f=a(14),v=function(t,e,a){return function(t){t({type:m.c}),p.a.post("https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=".concat("AIzaSyAE0BVX1eHGCHfHQW5KOrcJr5F2ZfuAJ34"),{email:e,password:a,returnSecureToken:!0}).then((function(e){var a;console.log(e.data),localStorage.setItem("idToken",e.data.idToken),localStorage.setItem("expiryTime",(new Date).getTime()+1e3*+e.data.expiresIn),localStorage.setItem("refreshToken",e.data.refreshToken),localStorage.setItem("localId",e.data.localId),t((a=e.data,{type:m.d,authData:a})),setTimeout((function(){t(Object(f.a)())}),1e3*+e.data.expiresIn)})).catch((function(e){console.log(e),t(function(t){return{type:m.b,error:t}}(e))}))}},b=a(22),y=function(t){Object(i.a)(a,t);var e=Object(r.a)(a);function a(){var t;Object(n.a)(this,a);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))).state={controls:{name:{type:"input",config:{type:"text",id:"Auth__name",placeholder:"Name",autoComplete:"off"},classes:"Auth__input",value:"",validation:{required:!0,minLength:1,isValid:!1}},email:{type:"input",config:{type:"email",id:"Auth__email",placeholder:"E-mail",autoComplete:"off"},classes:"Auth__input",value:"",validation:{required:!0,rule:new RegExp("^[a-zA-Z0-9]+@[a-zA-Z]+\\.[a-zA-Z]+$"),isValid:!1}},password:{type:"input",config:{type:"password",id:"Auth__password",placeholder:"Password",autoComplete:"off"},classes:"Auth__input",value:"",validation:{required:!0,isValid:!1,minLength:8}}},isReady:!1},t}return Object(o.a)(a,[{key:"inputChangedHandler",value:function(t,e){var a=t.target.value,n=!0;n&&this.state.controls[e].validation.required&&(n=0!==a.length),n&&this.state.controls[e].validation.minLength&&(n=a.length>=this.state.controls[e].validation.minLength),n&&this.state.controls[e].validation.rule&&(n=this.state.controls[e].validation.rule.test(a)),this.setState((function(t){t.controls[e].value=a,t.controls[e].validation.isValid=n;var o=!0;for(var i in t.controls)t.controls[i].validation.isValid||(o=!1);return t.isReady=o,t}))}},{key:"render",value:function(){var t=this,e=function(){return t.props.onSignUp(t.state.controls.name.value,t.state.controls.email.value,t.state.controls.password.value)},a=this.state.isReady?s.a.createElement("button",{onClick:e,className:"btn btn--green"}," ","Sign up"):s.a.createElement("button",{onClick:e,disabled:!0,className:"btn btn--green"}," ","Sign up"),n=Object.keys(this.state.controls).map((function(e){return s.a.createElement(u.a,Object.assign({id:e,changed:t.inputChangedHandler.bind(t),key:e},t.state.controls[e],{valid:t.state.controls[e].validation.isValid}))}));return s.a.createElement("div",{className:"Auth"},s.a.createElement("h1",{className:"Auth__title"},"Sign Up!"),n,a,this.props.loading?s.a.createElement(b.a,null):null)}}]),a}(l.Component);e.default=Object(c.b)((function(t){return{idToken:t.auth.idToken,refrestToken:t.auth.refrestToken,userId:t.auth.userId,loading:t.auth.loading}}),(function(t){return{onSignUp:function(e,a,n){return t(v(0,a,n))}}}))(Object(g.a)(y,h))}}]);
//# sourceMappingURL=5.08b48612.chunk.js.map