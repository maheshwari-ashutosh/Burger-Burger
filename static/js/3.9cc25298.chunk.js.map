{"version":3,"sources":["components/Order/Order.js","components/Order/Orders.js"],"names":["order","props","list","Object","keys","ingredients","map","item","key","style","display","margin","padding","backgroundColor","className","price","Orders","state","orders","isLoading","this","length","setState","queryParams","idToken","userId","axios","get","then","res","data","_id","console","log","catch","error","reverse","Spinner","textAlign","Component","connect","auth","withErrorHandler"],"mappings":"8NAsBeA,G,MAnBD,SAACC,GACb,IAAMC,EAAOC,OAAOC,KAAKH,EAAMI,aAAe,IAAIC,KAAI,SAAAC,GACpD,OACE,0BAAMC,IAAKD,EAAME,MAAO,CACtBC,QAAS,eACTC,OAAQ,aACRC,QAAS,OACTC,gBAAiB,SACfN,EALJ,KAKYN,EAAMI,YAAYE,GAL9B,QAQJ,OACE,wBAAIO,UAAU,aACZ,2CAAiBZ,GACjB,wCAAcD,EAAMc,U,gBCVpBC,E,4MACJC,MAAQ,CACNC,OAAQ,GACRC,WAAW,G,kEAGQ,IAAD,OAClB,GAAiC,IAA7BC,KAAKH,MAAMC,OAAOG,OAAc,CAClCD,KAAKE,SAAS,CAACH,WAAW,IAC1B,IAAMI,EAAW,eAAWH,KAAKnB,MAAMuB,QAAtB,sCAA2DJ,KAAKnB,MAAMwB,OAAtE,KACjBC,IACGC,IADH,uBACuBJ,IACpBK,MAAK,SAACC,GACL,IAAMX,EAASf,OAAOC,KAAKyB,EAAIC,MAAMxB,KAAI,SAACE,GACxC,OAAO,aACLuB,IAAKvB,GACFqB,EAAIC,KAAKtB,OAGXU,GAILc,QAAQC,IAAIf,GACZ,EAAKI,SAAS,CACZJ,SACAC,WAAW,KANX,EAAKG,SAAS,CAACH,WAAW,OAS7Be,OAAM,SAACC,GACNH,QAAQC,IAAIE,S,+BAMlB,IAAMjB,EACJE,KAAKH,MAAMC,OAAOG,OAAS,EACvBD,KAAKH,MAAMC,OAAOkB,UAAU9B,KAAI,SAACC,GAC/B,OACE,kBAAC,EAAD,CACEC,IAAKD,EAAKwB,IACVhB,MAAOR,EAAKQ,MACZV,YAAaE,EAAKF,iBAIxB,KAEN,OACE,yBAAKS,UAAU,UACZM,KAAKH,MAAME,WAAa,kBAACkB,EAAA,EAAD,OACvBjB,KAAKH,MAAME,WAA0C,IAA7BC,KAAKH,MAAMC,OAAOG,QAC1C,wBAAIZ,MAAO,CAAC6B,UAAW,WAAvB,sCAEF,wBAAIxB,UAAU,gBAAgBI,Q,GAvDjBqB,aAoENC,uBAPS,SAACvB,GACvB,MAAO,CACLO,QAASP,EAAMwB,KAAKjB,QACpBC,OAAQR,EAAMwB,KAAKhB,UAIRe,CAAyBE,YAAiB1B,EAAQU","file":"static/js/3.9cc25298.chunk.js","sourcesContent":["import React from 'react';\r\nimport './Order.scss';\r\n\r\nconst order = (props) => {\r\n  const list = Object.keys(props.ingredients || {}).map(item => {\r\n    return (\r\n      <span key={item} style={{\r\n        display: 'inline-block',\r\n        margin: '.5rem 1rem',\r\n        padding: '1rem',\r\n        backgroundColor: '#eee'\r\n      }}>{item} ({props.ingredients[item]})</span>\r\n    );\r\n  });\r\n  return (\r\n    <li className='OrderItem'>\r\n      <p>Ingredients: {list}</p>\r\n      <p>Price: Rs.{props.price}</p>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default order;\r\n","import React, {Component} from 'react';\r\nimport axios from '../../axios-order';\r\nimport withErrorHandler from '../../hoc/withErrorHandler/withErrorHandler';\r\nimport Order from './Order';\r\nimport {connect} from 'react-redux';\r\nimport Spinner from '../UI/Spinner/Spinner';\r\n\r\nclass Orders extends Component {\r\n  state = {\r\n    orders: [],\r\n    isLoading: false,\r\n  };\r\n\r\n  componentDidMount() {\r\n    if (this.state.orders.length === 0) {\r\n      this.setState({isLoading: true});\r\n      const queryParams = `auth=${this.props.idToken}&orderBy=\"userId\"&equalTo=\"${this.props.userId}\"`;\r\n      axios\r\n        .get(`/orders.json?${queryParams}`)\r\n        .then((res) => {\r\n          const orders = Object.keys(res.data).map((key) => {\r\n            return {\r\n              _id: key,\r\n              ...res.data[key],\r\n            };\r\n          });\r\n          if (!orders) {\r\n            this.setState({isLoading: false});\r\n            return;\r\n          }\r\n          console.log(orders);\r\n          this.setState({\r\n            orders,\r\n            isLoading: false,\r\n          });\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const orders =\r\n      this.state.orders.length > 0\r\n        ? this.state.orders.reverse().map((item) => {\r\n            return (\r\n              <Order\r\n                key={item._id}\r\n                price={item.price}\r\n                ingredients={item.ingredients}\r\n              />\r\n            );\r\n          })\r\n        : null;\r\n\r\n    return (\r\n      <div className='Orders'>\r\n        {this.state.isLoading && <Spinner />}\r\n        {!this.state.isLoading && this.state.orders.length === 0 && (\r\n          <h2 style={{textAlign: 'center'}}>You don't have any orders ... yet!</h2>\r\n        )}\r\n        <ul className='Orders__list'>{orders}</ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    idToken: state.auth.idToken,\r\n    userId: state.auth.userId,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(withErrorHandler(Orders, axios));\r\n"],"sourceRoot":""}